# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Mukit

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Mukit.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
./test.sh

# –ò–ª–∏ —á–µ—Ä–µ–∑ Makefile
make test
```

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------|
| `./test.sh` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | `./test.sh all` |
| `./test.sh backend` | –¢–æ–ª—å–∫–æ backend —Ç–µ—Å—Ç—ã | `./test.sh backend` |
| `./test.sh frontend` | –¢–æ–ª—å–∫–æ frontend —Ç–µ—Å—Ç—ã | `./test.sh frontend` |
| `./test.sh coverage` | –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞ | `./test.sh coverage` |
| `./test.sh help` | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É | `./test.sh help` |

### –ö–æ–º–∞–Ω–¥—ã Makefile

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make test` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã |
| `make test-backend` | –¢–æ–ª—å–∫–æ backend —Ç–µ—Å—Ç—ã |
| `make test-frontend` | –¢–æ–ª—å–∫–æ frontend —Ç–µ—Å—Ç—ã |
| `make test-coverage` | –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º |

## üîß Backend —Ç–µ—Å—Ç—ã

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Pytest** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **httpx.AsyncClient** - HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API
- **PostgreSQL** - —Ç–µ—Å—Ç–æ–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **pytest-asyncio** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ async/await

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤
```
backend/tests/
‚îú‚îÄ‚îÄ api/                    # API endpoints —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ test_auth.py       # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ test_documents.py  # –î–æ–∫—É–º–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ test_workspaces.py # –†–∞–±–æ—á–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
‚îú‚îÄ‚îÄ core/                   # Core –º–æ–¥—É–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ test_security.py   # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
‚îî‚îÄ‚îÄ websocket/              # WebSocket —Ç–µ—Å—Ç—ã
    ‚îî‚îÄ‚îÄ test_connection_manager.py
```

### –ó–∞–ø—É—Å–∫ backend —Ç–µ—Å—Ç–æ–≤
```bash
# –í—Å–µ backend —Ç–µ—Å—Ç—ã
./test.sh backend

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
cd backend && . ../venv/bin/activate && python -m pytest tests/ --cov=app --cov-report=html
```

## üé® Frontend —Ç–µ—Å—Ç—ã

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Vitest** - –±—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **@testing-library/react** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **@testing-library/jest-dom** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç—á–µ—Ä—ã
- **jsdom** - DOM –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤
```
frontend/src/test/
‚îú‚îÄ‚îÄ components/             # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Login.test.tsx     # –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ Dashboard.test.tsx # –î–∞—à–±–æ—Ä–¥
‚îú‚îÄ‚îÄ hooks/                  # –•—É–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ useWebSocket.test.ts
‚îî‚îÄ‚îÄ services/               # –°–µ—Ä–≤–∏—Å—ã
    ‚îî‚îÄ‚îÄ api.test.ts
```

### –ó–∞–ø—É—Å–∫ frontend —Ç–µ—Å—Ç–æ–≤
```bash
# –í—Å–µ frontend —Ç–µ—Å—Ç—ã
./test.sh frontend

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
cd frontend && npm test

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
cd frontend && npm run test:run -- --coverage
```

## üìä –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

### Backend –ø–æ–∫—Ä—ã—Ç–∏–µ
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –æ—Ç—á–µ—Ç–∞
cd backend && . ../venv/bin/activate && python -m pytest tests/ --cov=app --cov-report=html

# –û—Ç—á–µ—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ backend/htmlcov/index.html
```

### Frontend –ø–æ–∫—Ä—ã—Ç–∏–µ
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –ø–æ–∫—Ä—ã—Ç–∏—è
cd frontend && npm run test:run -- --coverage

# –û—Ç—á–µ—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ frontend/coverage/index.html
```

## üêõ –û—Ç–ª–∞–¥–∫–∞ —Ç–µ—Å—Ç–æ–≤

### Backend –æ—Ç–ª–∞–¥–∫–∞
```bash
# –ó–∞–ø—É—Å–∫ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
cd backend && . ../venv/bin/activate && python -m pytest tests/ -v -s

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
cd backend && . ../venv/bin/activate && python -m pytest tests/api/test_auth.py::test_register_user -v

# –ó–∞–ø—É—Å–∫ —Å –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π –Ω–∞ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ
cd backend && . ../venv/bin/activate && python -m pytest tests/ -x
```

### Frontend –æ—Ç–ª–∞–¥–∫–∞
```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º —Å watch
cd frontend && npm test

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
cd frontend && npm run test:run -- Login.test.tsx

# –ó–∞–ø—É—Å–∫ —Å UI
cd frontend && npm run test:ui
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Backend –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `backend/pytest.ini` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ pytest
- `backend/tests/conftest.py` - —Ñ–∏–∫—Å—Ç—É—Ä—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `backend/requirements.txt` - —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### Frontend –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `frontend/vitest.config.ts` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Vitest
- `frontend/src/test/setup.ts` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `frontend/package.json` - —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å backend —Ç–µ—Å—Ç–∞–º–∏
1. **–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω
2. **–û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ
3. **–û—à–∏–±–∫–∏ async**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é pytest-asyncio

### –ü—Ä–æ–±–ª–µ–º—ã —Å frontend —Ç–µ—Å—Ç–∞–º–∏
1. **–û—à–∏–±–∫–∏ –º–æ–¥—É–ª–µ–π**: –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm install`
2. **–û—à–∏–±–∫–∏ TypeScript**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∏–ø—ã –≤ `src/test/`
3. **–û—à–∏–±–∫–∏ React**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –º–æ–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **Backend**: 39 —Ç–µ—Å—Ç–æ–≤ ‚úÖ
- **Frontend**: 11 —Ç–µ—Å—Ç–æ–≤ ‚úÖ
- **–û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: ~85%

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤
- **API endpoints**: 22 —Ç–µ—Å—Ç–∞
- **Core –º–æ–¥—É–ª–∏**: 7 —Ç–µ—Å—Ç–æ–≤
- **WebSocket**: 10 —Ç–µ—Å—Ç–æ–≤
- **React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: 6 —Ç–µ—Å—Ç–æ–≤
- **–•—É–∫–∏ –∏ —Å–µ—Ä–≤–∏—Å—ã**: 5 —Ç–µ—Å—Ç–æ–≤

## üîÑ CI/CD

–¢–µ—Å—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏:
- Push –≤ main –≤–µ—Ç–∫—É
- –°–æ–∑–¥–∞–Ω–∏–∏ Pull Request
- –†—É—á–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –≤ GitHub Actions

## üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤

### Backend —Ç–µ—Å—Ç
1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–∞–ø–∫–µ `tests/`
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@pytest.mark.asyncio` –¥–ª—è async —Ç–µ—Å—Ç–æ–≤
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `./test.sh backend`

### Frontend —Ç–µ—Å—Ç
1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `*.test.tsx` –≤ –ø–∞–ø–∫–µ `src/test/`
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã
3. –ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã —Å `@testing-library/react`
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `./test.sh frontend`

---

**–£–¥–∞—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! üéâ**

